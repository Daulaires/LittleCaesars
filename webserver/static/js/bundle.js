
document.getElementById('createAccountForm').addEventListener('submit',function(event){event.preventDefault();const formData=new FormData(this);const email=formData.get('email');const password=formData.get('password');const url='/v1/create';const requestBody=JSON.stringify({email:email,password:password});const headers={'Content-Type':'application/json'};fetch(url,{method:'POST',headers:headers,body:requestBody}).then(async response=>{if(response.ok){showNotification('Account created for '+email,'Success');return response.json();}else{const text=await response.text();showNotification('Error: '+text,'Error');throw new Error(text);}})});
document.getElementById('spamForm').addEventListener('submit',function(event){event.preventDefault();const formData=new FormData(this);const email=formData.get('email');const times=formData.get('times');const url='/v1/spam';const requestBody=JSON.stringify({email:email,times:times});const headers={'Content-Type':'application/json'};fetch(url,{method:'POST',headers:headers,body:requestBody}).then(async response=>{if(response.ok){showNotification(email+' '+times+' times','Success');return response.json();}else{const text=await response.text();showNotification('Error: '+text,'Error',document.body);throw new Error(text);}})});
document.addEventListener('DOMContentLoaded',function(){const menuToggleButton=document.getElementById('menuToggle');const menu=document.getElementById('menu');function updateButtonText(){if(menu.style.display==='none'){menuToggleButton.textContent='Show Menu';}else{menuToggleButton.textContent='Hide Menu';}}
updateButtonText();menuToggleButton.addEventListener('click',function(){if(menu.style.display==='none'){setTimeout(function(){menu.classList.remove('hide');menu.classList.add('show');menu.style.display='block';},100);}else{setTimeout(function(){menu.classList.add('hide');},500);setTimeout(function(){menu.style.display='none';},1000);}
setTimeout(function(){updateButtonText();},1000);});});
document.addEventListener('DOMContentLoaded',function(){const toggleCreateAccountFormButton=document.getElementById('toggleCreateAccountForm');const createAccountForm=document.getElementById('createAccountForm');function updateButtonText(){if(createAccountForm.style.display==='none'){toggleCreateAccountFormButton.textContent='Show Create Account';}else{toggleCreateAccountFormButton.textContent='Hide Create Account';}}
updateButtonText();toggleCreateAccountFormButton.addEventListener('click',function(){if(createAccountForm.style.display==='none'){createAccountForm.classList.remove('hide');createAccountForm.style.display='block';}else{setTimeout(function(){createAccountForm.classList.add('hide');},500);setTimeout(function(){createAccountForm.style.display='none';},1000);}
setTimeout(function(){updateButtonText();},1000);});});
document.addEventListener('DOMContentLoaded',function(){const toggleCreateAccountFormButton=document.getElementById('toggleSpamForm');const createAccountForm=document.getElementById('spamForm');function updateButtonText(){if(createAccountForm.style.display==='none'){toggleCreateAccountFormButton.textContent='Show Spam Form';}else{toggleCreateAccountFormButton.textContent='Hide Spam Form';}}
updateButtonText();toggleCreateAccountFormButton.addEventListener('click',function(){if(createAccountForm.style.display==='none'){createAccountForm.classList.remove('hide');createAccountForm.style.display='block';}else{setTimeout(function(){createAccountForm.classList.add('hide');},500);setTimeout(function(){createAccountForm.style.display='none';},1000);}
setTimeout(function(){updateButtonText();},1000);});});
document.addEventListener('DOMContentLoaded',function(){const toggleButton=document.getElementById('RandomAccount');const body=document.body;toggleButton.addEventListener('click',function(){const url='/v1/create_account_with_random_data';fetch(url,{method:'GET'}).then(async response=>{if(response.ok){const data=await response.json();showNotification('Account: '+JSON.stringify(data),'Success',body);return data;}else{const text=await response.text();showNotification('Error: '+text,'Error',body);throw new Error(text);}}).catch(error=>{console.error('Error:',error);showNotification('Error: '+error.message,'Error',body);});});});
document.addEventListener('DOMContentLoaded',function(){const prefersDarkMode=window.matchMedia('(prefers-color-scheme: dark)').matches;const toggleButton=document.getElementById('themeToggle');const body=document.body;function updateButtonText(){if(prefersDarkMode){body.classList.remove('light-mode');body.classList.add('dark-mode');}else{body.classList.remove('dark-mode');body.classList.add('light-mode');}
if(body.classList.contains('dark-mode')){toggleButton.textContent='Light Mode';}else{toggleButton.textContent='Dark Mode';}}
updateButtonText();toggleButton.addEventListener('click',function(){if(body.classList.contains('dark-mode')){body.classList.remove('dark-mode');body.classList.add('light-mode');}else{body.classList.remove('light-mode');body.classList.add('dark-mode');}
updateButtonText();});});
showNotification=(message)=>{const notificationContainer=document.getElementById('notificationContainer');const notification=document.createElement('div');notification.className='notification';notification.textContent=message;notification.style.width='auto';notification.style.height='auto';notificationContainer.appendChild(notification);const style=window.getComputedStyle(notification);notification.style.width=`${style.width}px`;notification.style.height=`${style.height}px`;notification.classList.add('show');setTimeout(()=>{notification.classList.add('hide');},5000);setTimeout(()=>{notification.classList.remove('show');notificationContainer.removeChild(notification);},10000);}
updateData=function(){fetch('/v1/get_accounts_created_count').then(response=>response.json()).then(data=>{accountsCreated=data.total_accounts_created;showNotification('Accounts created: '+accountsCreated,'Success');});}
updateData();
GetGlobalTimesCounter=function(){fetch('/v1/get_global_spam_count').then(response=>response.json()).then(data=>{globalTimesCounter=data.total_spam_count;showNotification('Spam count: '+globalTimesCounter,'Success');});}
GetGlobalTimesCounter();